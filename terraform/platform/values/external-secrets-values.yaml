# External Secrets Operator configuration for A1 cluster
image:
  repository: ghcr.io/external-secrets/external-secrets
  tag: v0.9.11

replicaCount: 1

nodeSelector:
  node-role: control
  host: A1

tolerations:
- key: dedicated
  operator: Equal
  value: control
  effect: NoSchedule

resources:
  limits:
    cpu: 500m
    memory: 512Mi
  requests:
    cpu: 100m
    memory: 128Mi

installCRDs: true

createOperator: true

# Webhook configuration
webhook:
  nodeSelector:
    node-role: control
    host: A1
  tolerations:
  - key: dedicated
    operator: Equal
    value: control
    effect: NoSchedule
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 100m
      memory: 128Mi

# Cert controller configuration  
certController:
  nodeSelector:
    node-role: control
    host: A1
  tolerations:
  - key: dedicated
    operator: Equal
    value: control
    effect: NoSchedule
  resources:
    limits:
      cpu: 500m
      memory: 512Mi
    requests:
      cpu: 100m
      memory: 128Mi

serviceMonitor:
  enabled: true
  namespace: external-secrets
  labels:
    plane: control
    host: A1
    team: platform

# Security settings
securityContext:
  allowPrivilegeEscalation: false
  capabilities:
    drop:
    - ALL
  readOnlyRootFilesystem: true
  runAsNonRoot: true
  runAsUser: 65532
  seccompProfile:
    type: RuntimeDefault

podSecurityContext:
  fsGroup: 65532